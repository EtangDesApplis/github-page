{"version":3,"sources":["logo.svg","ko-fi.png","Wait.js","MyForm.js","index.js"],"names":["module","exports","Wait","src","logo","className","alt","OutputZone","props","result","Status","fetch","LogFile","then","response","text","console","log","style","width","type","data","href","OutputFile","download","kofi","height","MyForm","state","giturl","texfile","handleChange1","bind","handleChange2","handleSubmit","event","this","setState","target","value","requestOptions","method","headers","body","JSON","stringify","url","main","conf","backend","json","preventDefault","onSubmit","onChange","Component","App","ReactDOM","render","document","getElementById"],"mappings":"yGAAAA,EAAOC,QAAU,IAA0B,kC,yFCA3CD,EAAOC,QAAU,IAA0B,mC,kNCW5BC,MANf,WACE,OACM,+CAAoB,yBAAKC,IAAKC,IAAMC,UAAU,WAAWC,IAAI,W,wBCH/DC,EAAa,SAAAC,GACjB,OAAoB,IAAhBA,EAAMC,OAED,6BACiB,IAAhBD,EAAMC,OAEP,kBAAC,EAAD,MAGmB,OAAtBD,EAAMC,OAAOC,QACfC,MAAMH,EAAMC,OAAOG,SAChBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAE,GACJC,QAAQC,IAAIF,MAGd,6BACI,uCACA,4BAAQG,MAAO,CAAEC,MAAO,QAAUC,KAAK,aAAad,IAAI,aAAae,KAAMb,EAAMC,OAAOG,WAExF,uBAAGU,KAAMd,EAAMC,OAAOc,WAAYC,SAAS,cAA3C,mBACA,6BACA,0FACE,uBAAGF,KAAK,8BAA6B,yBAAKnB,IAAKsB,IAAMnB,IAAI,aAAaoB,OAAO,WAK9E,+BAAKlB,EAAMC,OAAOC,OAAlB,MA0DEiB,E,kDApDX,WAAYnB,GAAQ,IAAD,8BACf,cAAMA,IACDoB,MAAQ,CAACC,OAAQ,8CACRC,QAAS,oBACThB,SAAU,GACxB,EAAKiB,cAAgB,EAAKA,cAAcC,KAAnB,gBACrB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,gBACrB,EAAKE,aAAe,EAAKA,aAAaF,KAAlB,gBAPL,E,0DAULG,GAAYC,KAAKC,SAAS,CAACR,OAAQM,EAAMG,OAAOC,U,oCAChDJ,GAAYC,KAAKC,SAAS,CAACP,QAASK,EAAMG,OAAOC,U,mCAClDJ,GAAQ,IAAD,OAGhBC,KAAKC,SAAS,CAAEvB,SAAU,IAK1B,IAAM0B,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAE3BC,KAAMC,KAAKC,UAAU,CAAEC,IAAKV,KAAKR,MAAMC,OAAQkB,KAAMX,KAAKR,MAAME,WAElEnB,MAAMqC,EAAKC,QAAQT,GAChB3B,MAAK,SAAAC,GAAQ,OAAIA,EAASoC,UAE1BrC,MAAK,SAAAQ,GAAI,OAAI,EAAKgB,SAAS,CAAEvB,SAAUO,OAE1Cc,EAAMgB,mB,+BAIN,OACE,6BACA,0BAAMC,SAAUhB,KAAKF,cACnB,+CAEE,2BAAOd,KAAK,OAAOmB,MAAOH,KAAKR,MAAMC,OAAQwB,SAAUjB,KAAKL,gBAF9D,YAGE,iDAEA,2BAAOX,KAAK,OAAOmB,MAAOH,KAAKR,MAAME,QAASuB,SAAUjB,KAAKH,gBAF7D,YAGF,2BAAOb,KAAK,SAASmB,MAAM,mBAE7B,kBAAC,EAAD,CAAY9B,OAAQ2B,KAAKR,MAAMd,gB,GA/CpBwC,aChCfC,E,uKAEF,OACE,yBAAKlD,UAAU,OACb,8EACA,kBAAC,EAAD,CAAQ6B,aAAcE,KAAKF,oB,GALjBoB,aAWlBE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.2f5f4fbe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","module.exports = __webpack_public_path__ + \"static/media/ko-fi.e1440a6f.png\";","import React from 'react';\n//import logo from './logo.png';\nimport logo from './logo.svg';\nimport './Wait.css';\n\nfunction Wait() {\n  return (\n        <p> Please wait ... <img src={logo} className=\"App-logo\" alt=\"logo\" /></p>\n  );\n}\n\nexport default Wait;\n","import React, {Component} from 'react';\nimport Wait from './Wait';\nimport conf from './conf.json';\nimport kofi from './ko-fi.png';\nconst OutputZone = props => {\n  if (props.result ===1){\n    //fresh session\n    return <br />\n  }else if (props.result ===2){\n    //awaiting response from back-end since POST request\n    return <Wait />\n  }else{\n    //receive response from back-end\n    if (props.result.Status===\"OK\"){\n      fetch(props.result.LogFile)\n        .then(response => response.text())\n        .then(text => {\n          console.log(text);\n        })\n      return (\n        <div>\n            <label> Log:\n            <object style={{ width: '100%' }} type=\"text/plain\" alt=\"Job failed\" data={props.result.LogFile} ></object>\n            </label>\n            <a href={props.result.OutputFile} download=\"output.pdf\"> Download Here </a>\n            <br/>\n            <p>If you appreciate this App, you could buy me a coffee here : \n              <a href=\"https://ko-fi.com/nguyen31\"><img src={kofi} alt=\"Ko-fi link\" height=\"40\"/></a>\n            </p>\n        </div>\n      );\n    }else{\n      return <p> {props.result.Status} </p>;\n    }\n  }\n}\n\nclass MyForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {giturl: 'https://github.com/EtangDesApplis/ReTeX.git',\n                      texfile: 'test/cv_homer.tex',\n                      response: 1};\n        this.handleChange1 = this.handleChange1.bind(this);\n        this.handleChange2 = this.handleChange2.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    \n    handleChange1(event) {    this.setState({giturl: event.target.value});  }\n    handleChange2(event) {    this.setState({texfile: event.target.value});  }\n    handleSubmit(event) {\n\n        //set to awating status\n        this.setState({ response: 2 })\n\n        //POST RESTFUL TO BACK END {repo: url, main: main.tex}\n        //https://jasonwatmore.com/post/2020/02/01/react-fetch-http-post-request-examples\n        //for timeout https://www.npmjs.com/package/fetch-timeout\n        const requestOptions = {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          //body: JSON.stringify({ title: 'React POST Request Example' })\n          body: JSON.stringify({ url: this.state.giturl, main: this.state.texfile })\n        };\n        fetch(conf.backend,requestOptions)\n          .then(response => response.json())\n          //wait til the reponse from back end\n          .then(data => this.setState({ response: data }));\n\n        event.preventDefault();\n    }\n    \n    render() {\n        return (\n          <div>\n          <form onSubmit={this.handleSubmit}>\n            <label>\n              Git repo URL:\n              <input type=\"text\" value={this.state.giturl} onChange={this.handleChange1} />        </label>\n              <label>\n              Main .tex file:\n              <input type=\"text\" value={this.state.texfile} onChange={this.handleChange2} />        </label>\n            <input type=\"submit\" value=\"Build project\" />\n          </form>\n          <OutputZone result={this.state.response} />\n          </div>\n        );\n    }\n}\n\nexport default MyForm;","import React, {Component} from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport MyForm from './MyForm';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <h2>Build your LaTeX project on the fly with ReTeX</h2>\n        <MyForm handleSubmit={this.handleSubmit} />\n      </div>\n    )\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}